// Translation Dictionary
const translations = {
    en: {
        // Navigation
        nav_features: "Features",
        nav_explore: "Explore",
        nav_pricing: "Pricing",
        nav_contact: "Contact",
        nav_login: "Log In",
        nav_signup: "Sign Up",

        // Hero Section
        hero_title_1: "Custom furniture powered by a",
        hero_title_2: "3D Experience",
        hero_description: "FABER powers a suite of design API's for the next-generation of furniture companies to build hundreds of",
        hero_description_highlight: "custom design flows",
        hero_cta_design: "START A DESIGN",
        hero_cta_sales: "CONTACT SALES",
        hero_discover: "Discover the features",

        // Features Section - 3D Design
        feature_3d_title: "Design in 3D",
        feature_3d_description: "Bring your furniture ideas to life with our intuitive 3D design tools. Customize every detail, visualize in real-time, and create stunning pieces that reflect your unique style.",
        
        feature_3d_card1_category: "Visualize and edit in real time",
        feature_3d_card1_title: "Create and explore your furniture models directly in 3D. Every change in size, proportion, or material updates instantly — no rendering delays, no extra tools.",
        
        feature_3d_card2_category: "Turn dimensions into parameters",
        feature_3d_card2_title: "Define custom variables like width, height, thickness, or spacing — with minimums, maximums, and default values. Your customers interact safely within your design limits.",
        
        feature_3d_card3_category: "Automate relationships with formulas",
        feature_3d_card3_title: "Connect parameters together with simple formulas. For example: \"shelf spacing = height / 5\". Create intelligent designs that scale and adjust automatically.",

        // Features Section - Materials
        feature_materials_title: "Materials Come To Life",
        feature_materials_description: "The materials that you define, ready to impress in 3D. Let your customers see and feel the quality of your designs with realistic textures and finishes.",

        // Features Section - Configurator
        feature_configurator_title: "Interactive Configuration",
        feature_configurator_description: "Experience our powerful configurator in action. Watch how dimensions, materials, and pricing update in real-time as you customize your furniture.",
        
        configurator_width: "WIDTH",
        configurator_height: "HEIGHT",
        configurator_cupboards: "CUPBOARDS",
        configurator_material: "MATERIAL",
        configurator_total: "TOTAL PRICE",
        configurator_unit: "unit",
        configurator_units: "units",
        
        material_oak: "Oak",
        material_walnut: "Walnut",
        material_pine: "Pine",

        // Features Section - Client Configure
        feature_client_title: "Show To Your Clients",
        feature_client_description: "Either show it in your shop or add it to your web. Faber3D adapts to any way of working.",
        feature_client_integration: "Include it in your e-commerce website",

        // How To Section
        howto_title: "Experience the Magic",
        howto_subtitle: "Explore some ready-made examples below to see how Faber 3D can transform your furniture design process.",

        // Semi Features
        semi_features_title: "Where Craftsmanship meets Technology",

        // Explore Section
        explore_title: "Explore More Designs",
        explore_subtitle: "Dive into our gallery of custom furniture designs created using Faber 3D. Get inspired and see the possibilities.",
        explore_cta_title: "Ready to create your own custom furniture?",
        explore_button: "Get Started",

        // Pricing Section
        pricing_title: "Pricing Plans",
        pricing_subtitle: "Choose the perfect plan for your needs.",
        
        pricing_no_reg: "No registration",
        pricing_free: "Free",
        pricing_pro: "Pro",
        pricing_business: "Business",
        
        pricing_no_credit: "No credit card required",
        pricing_no_reg_required: "No registration required",
        pricing_per_month: "per month",
        pricing_popular: "Popular",
        
        pricing_create_collection: "Create Collection",
        pricing_register: "Register",
        
        pricing_feature_create: "✓ Create and edit collections",
        pricing_feature_export: "✓ Export and Import",
        pricing_feature_save_file: "✓ Save to file",
        pricing_feature_save_account: "✓ Save to account",
        pricing_feature_local: "✓ Local use",
        pricing_feature_publish_logo: "✓ Publish 1 piece of furniture (with logo)",
        pricing_feature_publish_unlimited: "✓ Unlimited publishing",
        pricing_feature_no_ads: "✓ No ads",
        pricing_feature_establishments: "✓ Up to 8 establishments",
        
        pricing_collection_1: "✓ 1 Collection",
        pricing_collection_5: "✓ 5 Collections",
        pricing_collection_50: "✓ 50 Collections",
        
        pricing_furniture_1: "✓ 1 piece of furniture",
        pricing_furniture_25: "✓ 25 pieces of furniture",
        pricing_furniture_250: "✓ 250 pieces of furniture",

        // Contact Section
        contact_title: "Contact Us",
        contact_subtitle: "Get in touch with us for your next project.",
        contact_name: "Your Name",
        contact_email: "Your Email",
        contact_message: "Your Message",
        contact_send: "Send Message",

        // Footer
        footer_get_in_touch: "GET IN TOUCH",
        footer_company: "COMPANY",
        footer_media: "Media",
        footer_careers: "Careers",
        footer_contact: "Contact",
        footer_about: "About",
        footer_uses: "Uses",
        footer_stewardship: "Stewardship",
        footer_technology: "Technology",
        footer_copyright: "© 2025 Faber 3D, Rhode Avenue 255"
    },

    es: {
        // Navigation
        nav_features: "Características",
        nav_explore: "Explorar",
        nav_pricing: "Precios",
        nav_contact: "Contacto",
        nav_login: "Iniciar sesión",
        nav_signup: "Registrarse",

        // Hero Section
        hero_title_1: "Muebles a medida con",
        hero_title_2: "Experiencia 3D",
        hero_description: "FABER potencia un conjunto de API's de diseño para que las empresas de muebles de nueva generación construyan cientos de",
        hero_description_highlight: "flujos de diseño personalizados",
        hero_cta_design: "COMENZAR UN DISEÑO",
        hero_cta_sales: "CONTACTAR VENTAS",
        hero_discover: "Descubre las características",

        // Features Section - 3D Design
        feature_3d_title: "Diseña en 3D",
        feature_3d_description: "Da vida a tus ideas de muebles con nuestras intuitivas herramientas de diseño 3D. Personaliza cada detalle, visualiza en tiempo real y crea piezas impresionantes que reflejen tu estilo único.",
        
        feature_3d_card1_category: "Visualiza y edita en tiempo real",
        feature_3d_card1_title: "Crea y explora tus modelos de muebles directamente en 3D. Cada cambio en tamaño, proporción o material se actualiza instantáneamente, sin retrasos de renderizado, sin herramientas adicionales.",
        
        feature_3d_card2_category: "Convierte dimensiones en parámetros",
        feature_3d_card2_title: "Define variables personalizadas como ancho, alto, grosor o espaciado, con mínimos, máximos y valores predeterminados. Tus clientes interactúan de forma segura dentro de tus límites de diseño.",
        
        feature_3d_card3_category: "Automatiza relaciones con fórmulas",
        feature_3d_card3_title: "Conecta parámetros entre sí con fórmulas simples. Por ejemplo: \"espaciado de estantes = altura / 5\". Crea diseños inteligentes que se escalan y ajustan automáticamente.",

        // Features Section - Materials
        feature_materials_title: "Los Materiales Cobran Vida",
        feature_materials_description: "Los materiales que definas, listos para impresionar en 3D. Permite que tus clientes vean y sientan la calidad de tus diseños con texturas y acabados realistas.",

        // Features Section - Configurator
        feature_configurator_title: "Configuración Interactiva",
        feature_configurator_description: "Experimenta nuestro potente configurador en acción. Observa cómo las dimensiones, materiales y precios se actualizan en tiempo real mientras personalizas tus muebles.",
        
        configurator_width: "ANCHO",
        configurator_height: "ALTO",
        configurator_cupboards: "ARMARIOS",
        configurator_material: "MATERIAL",
        configurator_total: "PRECIO TOTAL",
        configurator_unit: "unidad",
        configurator_units: "unidades",
        
        material_oak: "Roble",
        material_walnut: "Nogal",
        material_pine: "Pino",

        // Features Section - Client Configure
        feature_client_title: "Muéstralo a Tus Clientes",
        feature_client_description: "Ya sea mostrándolo en tu tienda o añadiéndolo a tu web. Faber3D se adapta a cualquier forma de trabajar.",
        feature_client_integration: "Inclúyelo en tu sitio web de comercio electrónico",

        // How To Section
        howto_title: "Experimenta la Magia",
        howto_subtitle: "Explora algunos ejemplos listos a continuación para ver cómo Faber 3D puede transformar tu proceso de diseño de muebles.",

        // Semi Features
        semi_features_title: "Donde la Artesanía se encuentra con la Tecnología",

        // Explore Section
        explore_title: "Explora Más Diseños",
        explore_subtitle: "Sumérgete en nuestra galería de diseños de muebles personalizados creados con Faber 3D. Inspírate y descubre las posibilidades.",
        explore_cta_title: "¿Listo para crear tus propios muebles personalizados?",
        explore_button: "Comenzar",

        // Pricing Section
        pricing_title: "Planes de Precios",
        pricing_subtitle: "Elige el plan perfecto para tus necesidades.",
        
        pricing_no_reg: "Sin registro",
        pricing_free: "Gratis",
        pricing_pro: "Pro",
        pricing_business: "Empresa",
        
        pricing_no_credit: "No se requiere tarjeta de crédito",
        pricing_no_reg_required: "No se requiere registro",
        pricing_per_month: "por mes",
        pricing_popular: "Popular",
        
        pricing_create_collection: "Crear Colección",
        pricing_register: "Registrarse",
        
        pricing_feature_create: "✓ Crear y editar colecciones",
        pricing_feature_export: "✓ Exportar e Importar",
        pricing_feature_save_file: "✓ Guardar en archivo",
        pricing_feature_save_account: "✓ Guardar en cuenta",
        pricing_feature_local: "✓ Uso local",
        pricing_feature_publish_logo: "✓ Publicar 1 mueble (con logo)",
        pricing_feature_publish_unlimited: "✓ Publicación ilimitada",
        pricing_feature_no_ads: "✓ Sin anuncios",
        pricing_feature_establishments: "✓ Hasta 8 establecimientos",
        
        pricing_collection_1: "✓ 1 Colección",
        pricing_collection_5: "✓ 5 Colecciones",
        pricing_collection_50: "✓ 50 Colecciones",
        
        pricing_furniture_1: "✓ 1 mueble",
        pricing_furniture_25: "✓ 25 muebles",
        pricing_furniture_250: "✓ 250 muebles",
        // Contact Section
        contact_title: "Contáctanos",
        contact_subtitle: "Ponte en contacto con nosotros para tu próximo proyecto.",
        contact_name: "Tu Nombre",
        contact_email: "Tu Email",
        contact_message: "Tu Mensaje",
        contact_send: "Enviar Mensaje",

        // Footer
        footer_get_in_touch: "CONTACTO",
        footer_company: "EMPRESA",
        footer_media: "Medios",
        footer_careers: "Carreras",
        footer_contact: "Contacto",
        footer_about: "Acerca de",
        footer_uses: "Usos",
        footer_stewardship: "Administración",
        footer_technology: "Tecnología",
        footer_copyright: "© 2025 Faber 3D, Rhode Avenue 255"
    },

    cat: {
        // Navigation
        nav_features: "Característiques",
        nav_explore: "Explorar",
        nav_pricing: "Preus",
        nav_contact: "Contacte",
        nav_login: "Iniciar sessió",
        nav_signup: "Registrar-se",

        // Hero Section
        hero_title_1: "Mobles personalitzats potenciats per una",
        hero_title_2: "Experiència 3D",
        hero_description: "FABER potencia un conjunt d'API's de disseny perquè les empreses de mobles de nova generació construeixin centenars de",
        hero_description_highlight: "fluxos de disseny personalitzats",
        hero_cta_design: "COMENÇAR UN DISSENY",
        hero_cta_sales: "CONTACTAR VENDES",
        hero_discover: "Descobreix les característiques",

        // Features Section - 3D Design
        feature_3d_title: "Dissenya en 3D",
        feature_3d_description: "Dona vida a les teves idees de mobles amb les nostres intuïtives eines de disseny 3D. Personalitza cada detall, visualitza en temps real i crea peces impressionants que reflecteixin el teu estil únic.",
        
        feature_3d_card1_category: "Visualitza i edita en temps real",
        feature_3d_card1_title: "Crea i explora els teus models de mobles directament en 3D. Cada canvi en mida, proporció o material s'actualitza instantàniament, sense retards de renderitzat, sense eines addicionals.",
        
        feature_3d_card2_category: "Converteix dimensions en paràmetres",
        feature_3d_card2_title: "Defineix variables personalitzades com amplada, altura, grossor o espaiat, amb mínims, màxims i valors predeterminats. Els teus clients interactuen de forma segura dins dels teus límits de disseny.",
        
        feature_3d_card3_category: "Automatitza relacions amb fórmules",
        feature_3d_card3_title: "Connecta paràmetres entre si amb fórmules simples. Per exemple: \"espaiat de prestatges = altura / 5\". Crea dissenys intel·ligents que s'escalen i s'ajusten automàticament.",

        // Features Section - Materials
        feature_materials_title: "Els Materials Prenen Vida",
        feature_materials_description: "Els materials que defineixis, llestos per impressionar en 3D. Permet que els teus clients vegin i sentin la qualitat dels teus dissenys amb textures i acabats realistes.",

        // Features Section - Configurator
        feature_configurator_title: "Configuració Interactiva",
        feature_configurator_description: "Experimenta el nostre potent configurador en acció. Observa com les dimensions, materials i preus s'actualitzen en temps real mentre personalitzes els teus mobles.",
        
        configurator_width: "AMPLADA",
        configurator_height: "ALTURA",
        configurator_cupboards: "ARMARIS",
        configurator_material: "MATERIAL",
        configurator_total: "PREU TOTAL",
        configurator_unit: "unitat",
        configurator_units: "unitats",
        
        material_oak: "Roure",
        material_walnut: "Noguer",
        material_pine: "Pi",

        // Features Section - Client Configure
        feature_client_title: "Mostra-ho als Teus Clients",
        feature_client_description: "Ja sigui mostrant-ho a la teva botiga o afegint-ho al teu web. Faber3D s'adapta a qualsevol forma de treballar.",
        feature_client_integration: "Inclou-ho al teu lloc web de comerç electrònic",

        // How To Section
        howto_title: "Experimenta la Màgia",
        howto_subtitle: "Explora alguns exemples preparats a continuació per veure com Faber 3D pot transformar el teu procés de disseny de mobles.",

        // Semi Features
        semi_features_title: "On l'Artesania es troba amb la Tecnologia",

        // Explore Section
        explore_title: "Explora Més Dissenys",
        explore_subtitle: "Submergeix-te a la nostra galeria de dissenys de mobles personalitzats creats amb Faber 3D. Inspira't i descobreix les possibilitats.",
        explore_cta_title: "Preparat per crear els teus propis mobles personalitzats?",
        explore_button: "Començar",

        // Pricing Section
        pricing_title: "Plans de Preus",
        pricing_subtitle: "Tria el pla perfecte per a les teves necessitats.",
        
        pricing_no_reg: "Sense registre",
        pricing_free: "Gratuït",
        pricing_pro: "Pro",
        pricing_business: "Empresa",
        
        pricing_no_credit: "No es requereix targeta de crèdit",
        pricing_no_reg_required: "No es requereix registre",
        pricing_per_month: "per mes",
        pricing_popular: "Popular",
        
        pricing_create_collection: "Crear Col·lecció",
        pricing_register: "Registrar-se",
        
        pricing_feature_create: "✓ Crear i editar col·leccions",
        pricing_feature_export: "✓ Exportar i Importar",
        pricing_feature_save_file: "✓ Desar a fitxer",
        pricing_feature_save_account: "✓ Desar al compte",
        pricing_feature_local: "✓ Ús local",
        pricing_feature_publish_logo: "✓ Publicar 1 moble (amb logo)",
        pricing_feature_publish_unlimited: "✓ Publicació il·limitada",
        pricing_feature_no_ads: "✓ Sense anuncis",
        pricing_feature_establishments: "✓ Fins a 8 establiments",
        
        pricing_collection_1: "✓ 1 Col·lecció",
        pricing_collection_5: "✓ 5 Col·leccions",
        pricing_collection_50: "✓ 50 Col·leccions",
        
        pricing_furniture_1: "✓ 1 moble",
        pricing_furniture_25: "✓ 25 mobles",
        pricing_furniture_250: "✓ 250 mobles",

        // Contact Section
        contact_title: "Contacta'ns",
        contact_subtitle: "Posa't en contacte amb nosaltres per al teu proper projecte.",
        contact_name: "El Teu Nom",
        contact_email: "El Teu Email",
        contact_message: "El Teu Missatge",
        contact_send: "Enviar Missatge",

        // Footer
        footer_get_in_touch: "CONTACTE",
        footer_company: "EMPRESA",
        footer_media: "Mitjans",
        footer_careers: "Carreres",
        footer_contact: "Contacte",
        footer_about: "Sobre",
        footer_uses: "Usos",
        footer_stewardship: "Administració",
        footer_technology: "Tecnologia",
        footer_copyright: "© 2025 Faber 3D, Rhode Avenue 255"
    },

    fr: {
        // Navigation
        nav_features: "Fonctionnalités",
        nav_explore: "Explorer",
        nav_pricing: "Tarifs",
        nav_contact: "Contact",
        nav_login: "Se connecter",
        nav_signup: "S'inscrire",

        // Hero Section
        hero_title_1: "Meubles personnalisés propulsés par une",
        hero_title_2: "Expérience 3D",
        hero_description: "FABER alimente une suite d'API de conception pour les entreprises de meubles de nouvelle génération afin de créer des centaines de",
        hero_description_highlight: "flux de conception personnalisés",
        hero_cta_design: "COMMENCER UN DESIGN",
        hero_cta_sales: "CONTACTER LES VENTES",
        hero_discover: "Découvrez les fonctionnalités",

        // Features Section - 3D Design
        feature_3d_title: "Concevoir en 3D",
        feature_3d_description: "Donnez vie à vos idées de meubles avec nos outils de conception 3D intuitifs. Personnalisez chaque détail, visualisez en temps réel et créez des pièces impressionnantes qui reflètent votre style unique.",
        
        feature_3d_card1_category: "Visualiser et éditer en temps réel",
        feature_3d_card1_title: "Créez et explorez vos modèles de meubles directement en 3D. Chaque changement de taille, de proportion ou de matériau se met à jour instantanément, sans délais de rendu, sans outils supplémentaires.",
        
        feature_3d_card2_category: "Transformer les dimensions en paramètres",
        feature_3d_card2_title: "Définissez des variables personnalisées comme la largeur, la hauteur, l'épaisseur ou l'espacement, avec des minimums, des maximums et des valeurs par défaut. Vos clients interagissent en toute sécurité dans vos limites de conception.",
        
        feature_3d_card3_category: "Automatiser les relations avec des formules",
        feature_3d_card3_title: "Connectez les paramètres entre eux avec des formules simples. Par exemple : \"espacement des étagères = hauteur / 5\". Créez des conceptions intelligentes qui s'adaptent et s'ajustent automatiquement.",

        // Features Section - Materials
        feature_materials_title: "Les Matériaux Prennent Vie",
        feature_materials_description: "Les matériaux que vous définissez, prêts à impressionner en 3D. Laissez vos clients voir et ressentir la qualité de vos conceptions avec des textures et des finitions réalistes.",

        // Features Section - Configurator
        feature_configurator_title: "Configuration Interactive",
        feature_configurator_description: "Découvrez notre puissant configurateur en action. Regardez comment les dimensions, les matériaux et les prix se mettent à jour en temps réel pendant que vous personnalisez vos meubles.",
        
        configurator_width: "LARGEUR",
        configurator_height: "HAUTEUR",
        configurator_cupboards: "ARMOIRES",
        configurator_material: "MATÉRIAU",
        configurator_total: "PRIX TOTAL",
        configurator_unit: "unité",
        configurator_units: "unités",
        
        material_oak: "Chêne",
        material_walnut: "Noyer",
        material_pine: "Pin",

        // Features Section - Client Configure
        feature_client_title: "Montrez à Vos Clients",
        feature_client_description: "Que ce soit en le montrant dans votre magasin ou en l'ajoutant à votre site web. Faber3D s'adapte à toutes les façons de travailler.",
        feature_client_integration: "Incluez-le dans votre site web de commerce électronique",

        // How To Section
        howto_title: "Découvrez la Magie",
        howto_subtitle: "Explorez quelques exemples prêts à l'emploi ci-dessous pour voir comment Faber 3D peut transformer votre processus de conception de meubles.",

        // Semi Features
        semi_features_title: "Où l'Artisanat rencontre la Technologie",

        // Explore Section
        explore_title: "Explorez Plus de Designs",
        explore_subtitle: "Plongez dans notre galerie de conceptions de meubles personnalisés créés avec Faber 3D. Inspirez-vous et découvrez les possibilités.",
        explore_cta_title: "Prêt à créer vos propres meubles personnalisés?",
        explore_button: "Commencer",

        // Pricing Section
        pricing_title: "Plans Tarifaires",
        pricing_subtitle: "Choisissez le plan parfait pour vos besoins.",
        
        pricing_no_reg: "Sans inscription",
        pricing_free: "Gratuit",
        pricing_pro: "Pro",
        pricing_business: "Entreprise",
        
        pricing_no_credit: "Aucune carte de crédit requise",
        pricing_no_reg_required: "Aucune inscription requise",
        pricing_per_month: "par mois",
        pricing_popular: "Populaire",
        
        pricing_create_collection: "Créer une Collection",
        pricing_register: "S'inscrire",
        
        pricing_feature_create: "✓ Créer et éditer des collections",
        pricing_feature_export: "✓ Exporter et Importer",
        pricing_feature_save_file: "✓ Enregistrer dans un fichier",
        pricing_feature_save_account: "✓ Enregistrer sur le compte",
        pricing_feature_local: "✓ Utilisation locale",
        pricing_feature_publish_logo: "✓ Publier 1 meuble (avec logo)",
        pricing_feature_publish_unlimited: "✓ Publication illimitée",
        pricing_feature_no_ads: "✓ Sans publicités",
        pricing_feature_establishments: "✓ Jusqu'à 8 établissements",
        
        pricing_collection_1: "✓ 1 Collection",
        pricing_collection_5: "✓ 5 Collections",
        pricing_collection_50: "✓ 50 Collections",
        
        pricing_furniture_1: "✓ 1 meuble",
        pricing_furniture_25: "✓ 25 meubles",
        pricing_furniture_250: "✓ 250 meubles",

        // Contact Section
        contact_title: "Contactez-nous",
        contact_subtitle: "Contactez-nous pour votre prochain projet.",
        contact_name: "Votre Nom",
        contact_email: "Votre Email",
        contact_message: "Votre Message",
        contact_send: "Envoyer le Message",

        // Footer
        footer_get_in_touch: "NOUS CONTACTER",
        footer_company: "ENTREPRISE",
        footer_media: "Médias",
        footer_careers: "Carrières",
        footer_contact: "Contact",
        footer_about: "À propos",
        footer_uses: "Utilisations",
        footer_stewardship: "Gestion",
        footer_technology: "Technologie",
        footer_copyright: "© 2025 Faber 3D, Rhode Avenue 255"
    }
};

// Language configuration
const languageConfig = {
    en: { name: "English", flag: "assets/flags/en.png", code: "EN" },
    es: { name: "Español", flag: "assets/flags/es.png", code: "ES" },
    cat: { name: "Català", flag: "assets/flags/cat.png", code: "CAT" },
    fr: { name: "Français", flag: "assets/flags/fr.png", code: "FR" }
};

// Current language (default)
let currentLanguage = localStorage.getItem('preferredLanguage') || 'en';

// Function to change language
function changeLanguage(lang) {
    if (!translations[lang]) {
        console.error(`Language ${lang} not found`);
        return;
    }
    
    currentLanguage = lang;
    localStorage.setItem('preferredLanguage', lang);
    
    // Update all translatable elements
    document.querySelectorAll('[data-translate]').forEach(element => {
        const key = element.getAttribute('data-translate');
        if (translations[currentLanguage][key]) {
            if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
                element.placeholder = translations[currentLanguage][key];
            } else {
                element.textContent = translations[currentLanguage][key];
            }
        }
    });
    
    // Update language selector
    updateLanguageSelector();
    
    // Close dropdown if open
    const dropdown = document.querySelector('.language-dropdown');
    if (dropdown) {
        dropdown.classList.remove('active');
    }
}

// Function to update language selector display
function updateLanguageSelector() {
    const selectedFlag = document.querySelector('.language-selector .selected-flag');
    const selectedCode = document.querySelector('.language-selector .selected-code');
    
    if (selectedFlag && selectedCode) {
        selectedFlag.src = languageConfig[currentLanguage].flag;
        selectedCode.textContent = languageConfig[currentLanguage].code;
    }
}

// Initialize language system when DOM is loaded
function initLanguageSystem() {
    // Set initial language
    changeLanguage(currentLanguage);
    
    // Setup language selector dropdown
    const languageSelector = document.querySelector('.language-selector');
    const dropdown = document.querySelector('.language-dropdown');
    
    if (languageSelector && dropdown) {
        languageSelector.addEventListener('click', (e) => {
            e.stopPropagation();
            dropdown.classList.toggle('active');
        });
        
        // Close dropdown when clicking outside
        document.addEventListener('click', () => {
            dropdown.classList.remove('active');
        });
        
        // Handle language option clicks
        dropdown.querySelectorAll('.language-option').forEach(option => {
            option.addEventListener('click', (e) => {
                e.stopPropagation();
                const lang = option.getAttribute('data-lang');
                changeLanguage(lang);
            });
        });
    }
}

// Export for use in other scripts
if (typeof module !== 'undefined' && module.exports) {
    module.exports = { translations, changeLanguage, initLanguageSystem };
}
